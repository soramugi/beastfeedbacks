{"version":3,"file":"like/view.js","mappings":";;;;;AAAA,MAAMA,QAAQ,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,+BAA+B,CAAC;AAE3EF,QAAQ,CAACG,OAAO,CAAEC,OAAO,IAAK;EAC7B,MAAMC,KAAK,GAAGD,OAAO,CAACE,OAAO,CAACD,KAAK;EACnC,MAAME,OAAO,GAAGH,OAAO,CAACI,oBAAoB,CAAC,QAAQ,CAAC;EAEtD,KAAK,MAAMC,MAAM,IAAIF,OAAO,EAAE;IAC7BE,MAAM,CAACC,OAAO,GAAIC,KAAK,IAAK;MAC3BF,MAAM,CAACG,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;MAErCC,KAAK,CAAC,qCAAqC,EAAE;QAC5CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACR,cAAc,EAAE;UAChB;QACD,CAAC;;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACpBC,cAAc,EAAE,CAAC;UACjBd;QACD,CAAC;MACF,CAAC,CAAC,CACAe,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;QACf,MAAMC,KAAK,GAAGf,MAAM,CAACgB,sBAAsB,CAAC,OAAO,CAAC;QACpD,KAAK,MAAMC,IAAI,IAAIF,KAAK,EAAE;UACzBE,IAAI,CAACC,WAAW,GAAGJ,IAAI,CAACK,KAAK;QAC9B;QACA,MAAMC,QAAQ,GACbpB,MAAM,CAACqB,aAAa,CAACL,sBAAsB,CAAC,SAAS,CAAC;QACvD,KAAK,MAAMM,OAAO,IAAIF,QAAQ,EAAE;UAC/BE,OAAO,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;QAChC;MACD,CAAC,CAAC;IACJ,CAAC;EACF;AACD,CAAC,CAAC,C","sources":["webpack://beastfeedbacks/./blocks/src/like/view.js"],"sourcesContent":["const elements = document.querySelectorAll(\".wp-block-beastfeedbacks-like\");\n\nelements.forEach((element) => {\n\tconst nonce = element.dataset.nonce;\n\tconst buttons = element.getElementsByTagName(\"button\");\n\n\tfor (const button of buttons) {\n\t\tbutton.onclick = (event) => {\n\t\t\tbutton.setAttribute(\"disabled\", true);\n\n\t\t\tfetch(\"/wp-json/beastfeedbacks/v1/register\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t// \"X-WP-Nonce\": nonce,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tbeastfeedbacks: 1,\n\t\t\t\t\tnonce,\n\t\t\t\t}),\n\t\t\t})\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tconst elems = button.getElementsByClassName(\"count\");\n\t\t\t\t\tfor (const elem of elems) {\n\t\t\t\t\t\telem.textContent = data.count;\n\t\t\t\t\t}\n\t\t\t\t\tconst messages =\n\t\t\t\t\t\tbutton.parentElement.getElementsByClassName(\"message\");\n\t\t\t\t\tfor (const message of messages) {\n\t\t\t\t\t\tmessage.style.display = \"block\";\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t};\n\t}\n});\n"],"names":["elements","document","querySelectorAll","forEach","element","nonce","dataset","buttons","getElementsByTagName","button","onclick","event","setAttribute","fetch","method","headers","body","JSON","stringify","beastfeedbacks","then","response","json","data","elems","getElementsByClassName","elem","textContent","count","messages","parentElement","message","style","display"],"sourceRoot":""}