document.querySelectorAll(".wp-block-beastfeedback-like-wrapper").forEach((e=>{const t=e.dataset.nonce,n=e.dataset.id,o=e.getElementsByTagName("button");for(const s of o)s.onclick=o=>{s.setAttribute("disabled",!0),fetch("/wp-json/beastfeedbacks/v1/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({beastfeedbacks_type:"like",nonce:t,id:n})}).then((e=>e.json())).then((t=>{if(t.count){const n=e.querySelectorAll(".like-count");for(const e of n)e.textContent=t.count}const n=document.createElement("span");n.textContent=t.message,e.parentElement.insertBefore(n,e.nextSibling)}))}}));